---
title: linux的几种压缩工具
permalink: linux-compress
date: 2020-03-05
tags: Linux
---

总结一下`Linux`下的几种压缩及打包工具

<!--more-->

## compress

```
-f 强制执行并覆盖掉原文件
-b 压缩效率，9～16，默认值为16
-d 解压缩，也可以使用uncompress命令
-v 显示命令执行过程
```

压缩生成`.Z`后缀名的文件，解压时也需要文件后缀为`.Z`

## zip

```
-v 显示命令执行过程
-q 不显示命令执行过程
-r 递归处理目录
```

使用`unzip`解压缩`zip`压缩的文件

```bash
$ zip test.zip test.txt //把test.txt压缩为test.zip，可以接更多的文件或者文件夹
$ unzip test.zip
```

在压缩时若不指定后缀名，则生成的压缩文件默认为`.zip`，若指定了后缀名，则生成的文件名为所指定的，不会自动添加上`.zip`

在使用`unzip`解压缩时，不需要文件的后缀名为`.zip`，只需要是`zip`压缩类型的文件

## gzip

```
-f 强制压缩文件
-q 不显示警告信息
-v 显示命令执行过程
-d 解压，也可以使用uncompress命令
-r 递归处理目录
```

压缩后会生成以`.gz`为后缀的文件，并且在使用`gzip -d`或`gunzip`命令解压文件时，文件必须为以`.gz`为后缀并且是`gzip`压缩类型饿文件

```bash
$ gzip ./* 
```

假设当前目录下有`test1 test2`两个文件，则这条命令会将这两个文件压缩为`test1.gz test2.gz`

## bzip2

```
-c 将压缩与解压缩的结果输出到标准输出
-f 默认情况下在压缩与解压缩时，若输出文件与现有文件同名，不会覆盖现有文件。若要覆盖，则可以使用此参数
-d 解压缩，也可以使用bunzip2命令解压
-v 显示压缩与解压缩的详细信息
-k 默认情况下bzip2压缩或解压缩后会删除原文件，所想保留原文件，则可以使用此选项
-z 强制执行压缩
```

压缩后会生成以`.bz2`为后缀的文件，使用`bzip2 -d`或`bunzip2`命令解压文件

```bash
//假设当前目录有两个文件名为 data1 data2

$ bzip2 ./*							//经过压缩生成 data1.bz2 data2.bz2
$ bzip2 -d data1.bz2		//data1.bz2被解压为data1

$ mv data2.bz2 data2    //这里将另一个压缩文件重命名去除.bz2后缀
$ bzip2 -d data2				//由于不是.bz2后缀，这里猜测不到原始文件名，默认解压后文件名为data2.out
```

如上述命令，解压`bzip2`压缩类型文件不强制要求后缀为`.bz2`。解压时，若后缀名为`.bz2`，则解压后文件名为去除`.bz2`的文件名，若后缀不是`.bz2`，则解压后文件名为原文件名加上`.out`后缀

## tar

```
-c 打包文件和目录
-C 在指定的目录解压缩
-x 还原文件
-z 在打包的同时使用gzip进行压缩或解压（与-c同时使用时是压缩，与-x同时使用时是解压）
-Z 在打包的同时使用compress进行压缩或解压（与-c同时使用时是压缩，与-x同时使用时是解压）
-j 在打包的同时使用bzip2进行压缩或解压（与-c同时使用时是压缩，与-x同时使用时是解压）
-v 显示命令执行过程
-f 指定文件名
```

`compress`、`zip`、`gzip`、`bzip2`命令是对文件进行压缩。而`tar`命令是对文件或目录进行打包操作。

```bash
$ tar -cvf test.tar ./*					//这里将当前目录下的所有文件和目录打包为test.tar文件
```

这里可以任意指定文件名和后缀，并不需要强制指定`.tar`后缀

```bash
$ tar -zcvf test.tar.gz ./*			//这里将当前目录下的所有文件和目录打包为test.tar文件后又进行了gzip压缩
```

这里的文件名也是可以任意指定的，处理完成后是`gzip`压缩的文件。

如果这里命名的文件名不是以`.gz`为后缀，如`test`，若要直接进行`gunzip`解压之前必须要将文件的后缀改为`test.gz`，解压后文件是名为`test`的`tar`归档文件，接下来可以使用`tar -xvf test` 来恢复。

上述两步操作也可以用`tar -zxvf test`一步操作来完成

使用`-Z`、`-j`选项的命令与之类似